<div class="message-input-container">
  <div class="bot-notice">
    <mat-icon class="bot-icon">smart_toy</mat-icon>
    <span>El mensaje ser√° enviado por Yotsuba Bot en tu nombre.</span>
  </div>

  <div class="input-wrapper" [class.focused]="inputFocused">
    <textarea
      #messageTextarea
      class="message-textarea"
      [(ngModel)]="messageContent"
      (keydown)="onKeyDown($event)"
      (focus)="inputFocused = true"
      (blur)="inputFocused = false"
      (input)="autoResize()"
      placeholder="Escribe un mensaje..."
      rows="1"
      [disabled]="sending">
    </textarea>

    <button
      class="send-button"
      (click)="sendMessage()"
      [disabled]="!messageContent.trim() || sending"
      [class.ready]="messageContent.trim() && !sending"
      aria-label="Enviar mensaje">
      <mat-icon *ngIf="!sending">send</mat-icon>
      <mat-spinner *ngIf="sending" diameter="20"></mat-spinner>
    </button>
  </div>
</div>
